"use strict";(self["webpackChunkform_build"]=self["webpackChunkform_build"]||[]).push([[52],{6925:function(e,t,r){r.d(t,{A:function(){return d}});var o=function(){var e=this,t=e._self._c;return t("input",{class:["py-2.5 px-5 w-full border border-solid rounded-[5px]",e.isErrors?"border-danger":"border-[#cbcccd]"],attrs:{type:e.inputType,inputmode:e.inputMode},domProps:{value:e.inputValue},on:{input:function(t){return e.$emit("input",t.target.value)}}})},s=[],i={name:"FormInput-component",props:{inputType:{type:String,default:"text"},inputMode:{type:String,default:"text"},inputValue:[String,Number],isErrors:{type:Boolean,default:!1}}},a=i,c=r(1656),n=(0,c.A)(a,o,s,!1,null,"8df599e6",null),d=n.exports},3052:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"overflow-y-auto w-full h-full bg-[#eee] scroll-style"},[t("div",{staticClass:"mx-auto p-8 w-[min(100%,_1024px)]"},[e.code.share_code?[t("div",{staticClass:"mb-8 py-9 px-[54px] rounded-2xl bg-white"},[t("p",{staticClass:"mb-5 text-[#555] text-2xl"},[t("font-awesome-icon",{staticClass:"mr-5",attrs:{icon:"fa-solid fa-link"}}),e._v(" 分享您的問卷 ")],1),t("FormInput",{staticClass:"mb-3.5 py-3 px-4 disabled:bg-[#eee]",attrs:{id:"share-link","input-value":e.shareCode,disabled:""}}),t("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:`${e.shareCode}`,expression:"`${shareCode}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copy_success,expression:"copy_success",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copy_error,expression:"copy_error",arg:"error"}],staticClass:"py-3 px-9 rounded-md bg-[#52528c] text-white",attrs:{type:"button"}},[e._v(" 複製 ")])],1),t("div",{staticClass:"py-9 px-[54px] rounded-2xl bg-white"},[t("p",{staticClass:"mb-5 text-[#555] text-2xl"},[t("font-awesome-icon",{staticClass:"mr-5",attrs:{icon:"fa-solid fa-code"}}),e._v(" 嵌入碼 ")],1),t("textarea",{staticClass:"mb-3.5 py-3 px-4 w-full border border-solid border-[#cbcccd] rounded-[5px] disabled:bg-[#eee]",staticStyle:{"min-height":"150px"},attrs:{id:"share-code",disabled:""},domProps:{value:e.embedCode}}),e._v(" "),t("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:`${e.embedCode}`,expression:"`${embedCode}`",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copy_success,expression:"copy_success",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.copy_error,expression:"copy_error",arg:"error"}],staticClass:"py-3 px-9 rounded-md bg-[#52528c] text-white",attrs:{type:"button"}},[e._v(" 複製 ")])])]:[t("div",{staticClass:"flex items-center justify-center py-9 px-[54px] h-[150px] rounded-2xl bg-white"},[t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createPublishLink.apply(null,arguments)}}},[e._v(" 產生發布連結 ")])])]],2)])},s=[],i=r(6925),a={name:"FormRelease",components:{FormInput:i.A},data:()=>({locationLink:`${location.origin}/form-render`,code:""}),metaInfo:{title:"表單發布"},created(){if(this.$route.query.formId){const e=Number(this.$route.query.formId);this.getPublish(e)}},computed:{shareCode(){const e=Number(this.$route.query.formId);return`${this.locationLink}?formId=${e}&code=${this.code["share_code"]}`},embedCode(){return`<iframe width="560" height="315" src="${this.shareCode}" title="黑快馬表單" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`}},methods:{getPublish(e){this.axios.publishInfo({id:e}).then((e=>{const{code:t,data:r}=e.data;200===t&&(this.code=r)}))},createPublishLink(){const e=Number(this.$route.query.formId);this.axios.createPublishLink({id:e}).then((t=>{200===t.data.code&&this.getPublish(e)}))},copy_success(){this.$toasted.info("複製成功",{position:"top-center"})},copy_error(){this.$toasted.error("無法複製內容、瀏覽器不支援",{position:"top-center"})}}},c=a,n=r(1656),d=(0,n.A)(c,o,s,!1,null,null,null),l=d.exports}}]);