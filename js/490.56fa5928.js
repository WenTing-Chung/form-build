"use strict";(self["webpackChunkform_build"]=self["webpackChunkform_build"]||[]).push([[490],{6490:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-1 h-screen bg-[#d8d7e3] overflow-y-auto scroll-style"},[t("div",{staticClass:"mx-auto pt-10 xl:pt-24 px-5 pb-10 xl:pb-20 w-full md:w-4/5 xl:w-[60%]"},[e._m(0),t("div",{staticClass:"overflow-hidden rounded-2xl bg-white shadow-[0_3px_6px_0_rgb(82,82,140)] before:block before:w-full before:h-2.5 before:bg-[#52528c] before:content-['']"},[t("div",{staticClass:"p-8 border-b border-solid border-[#707070]"},[t("p",{staticClass:"mb-4 font-bold text-4xl"},[e._v(e._s(e.form_data["name"]))]),t("p",{staticClass:"text-base"},[e._v(e._s(e.form_data["description"]))])]),t("ul",[t("ValidationObserver",{ref:"renderForm"},e._l(e.form_data["questions"],(function(r){return t("li",{key:r["form_question_id"]},[t("div",{staticClass:"p-7"},[t("p",{staticClass:"mb-1.5 text-lg"},[r["is_required"]?t("span",{staticClass:"mr-1 text-[#c81d25]"},[e._v("*")]):e._e(),t("span",{class:{"font-bold":r.other.config["bold"],italic:r.other.config["italic"],underline:r.other.config["underline"]}},[e._v(" "+e._s(r["title"])+" ")])]),t("p",{staticClass:"mb-4"},[e._v(e._s(r["description"]))]),"text"===r["type"]?[t("ValidationProvider",{attrs:{name:r["title"],rules:{required:r["is_required"]}},scopedSlots:e._u([{key:"default",fn:function({valid:o,errors:i}){return t("div",{},[t("div",["checkbox"===r.other.config["type"]?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],class:["pb-0.5 w-4/5 border-b border-solid",i[0]?"border-danger":"border-[#cbcccd]"],attrs:{maxlength:r.other.config["max"],state:!i[0]&&(!!o||null),placeholder:"您的回答",type:"checkbox"},domProps:{checked:Array.isArray(e.form[r["title"]])?e._i(e.form[r["title"]],null)>-1:e.form[r["title"]]},on:{change:function(t){var o=e.form[r["title"]],i=t.target,l=!!i.checked;if(Array.isArray(o)){var a=null,s=e._i(o,a);i.checked?s<0&&e.$set(e.form,r["title"],o.concat([a])):s>-1&&e.$set(e.form,r["title"],o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.form,r["title"],l)}}}):"radio"===r.other.config["type"]?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],class:["pb-0.5 w-4/5 border-b border-solid",i[0]?"border-danger":"border-[#cbcccd]"],attrs:{maxlength:r.other.config["max"],state:!i[0]&&(!!o||null),placeholder:"您的回答",type:"radio"},domProps:{checked:e._q(e.form[r["title"]],null)},on:{change:function(t){return e.$set(e.form,r["title"],null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],class:["pb-0.5 w-4/5 border-b border-solid",i[0]?"border-danger":"border-[#cbcccd]"],attrs:{maxlength:r.other.config["max"],state:!i[0]&&(!!o||null),placeholder:"您的回答",type:r.other.config["type"]},domProps:{value:e.form[r["title"]]},on:{input:function(t){t.target.composing||e.$set(e.form,r["title"],t.target.value)}}})]),t("small",{class:{"text-danger":i[0]}},[e._v(e._s(i[0]))])])}}],null,!0)})]:"textarea"===r["type"]?[t("ValidationProvider",{attrs:{name:r["title"],rules:{required:r["is_required"]}},scopedSlots:e._u([{key:"default",fn:function({valid:o,errors:i}){return t("div",{},[t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],class:["w-full border-b border-solid resize-none focus-visible:outline-none",i[0]?"border-danger":"border-[#cbcccd]"],style:{height:r.other["style"]},attrs:{id:`${r["title"]}-${r.other["id"]}`,maxlength:r.other.config["max"],state:!i[0]&&(!!o||null),placeholder:"您的回答"},domProps:{value:e.form[r["title"]]},on:{keydown:function(t){return e.textareaCount(r.other["id"])},keyup:[function(t){return e.textareaCount(r.other["id"])},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.textareaCount(r.other["id"])}],input:function(t){t.target.composing||e.$set(e.form,r["title"],t.target.value)}}})]),t("small",{class:{"text-danger":i[0]}},[e._v(e._s(i[0]))])])}}],null,!0)})]:"radio"===r["type"]?[t("ValidationProvider",{attrs:{name:r["title"],rules:{required:r["is_required"]}},scopedSlots:e._u([{key:"default",fn:function({valid:o,errors:i}){return t("div",{},[e._l(r["option"],(function(l,a){return t("div",{key:a,staticClass:"[&:not(:last-child)]:mb-3"},[t("label",{class:["w-full text-left text-base"],attrs:{for:`${r["title"]}-${l.text}-${a}`}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],staticClass:"hidden",attrs:{id:`${r["title"]}-${l.text}-${a}`,name:r["title"],state:!i[0]&&(!!o||null),type:"radio"},domProps:{value:l.value,checked:e._q(e.form[r["title"]],l.value)},on:{change:function(t){return e.$set(e.form,r["title"],l.value)}}}),t("span",{staticClass:"relative py-2 pl-10 before:absolute before:rounded-full before:top-1/2 before:left-0 before:block before:-translate-y-1/2 before:w-5 before:h-5 before:border before:border-solid before:border-[#d8d7e3] before:content-[''] radio-control"},[e._v(" "+e._s(l.text)+" ")])])])})),t("small",{class:{"text-danger":i[0]}},[e._v(e._s(i[0]))])],2)}}],null,!0)})]:"checkbox"===r["type"]?[t("ValidationProvider",{attrs:{name:r["title"],rules:{required:r["is_required"]}},scopedSlots:e._u([{key:"default",fn:function({valid:o,errors:i}){return t("div",{},[e._l(r["option"],(function(l,a){return t("div",{key:a,staticClass:"[&:not(:last-child)]:mb-3"},[t("label",{class:["py-2 pl-10 cursor-pointer question-checkbox"],attrs:{for:`${r["title"]}-${l.text}-${a}`}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form[r["title"]],expression:"form[item['title']]"}],staticClass:"checkbox-checked",attrs:{id:`${r["title"]}-${l.text}-${a}`,name:r["title"],state:!i[0]&&(!!o||null),type:"checkbox"},domProps:{value:l.value,checked:Array.isArray(e.form[r["title"]])?e._i(e.form[r["title"]],l.value)>-1:e.form[r["title"]]},on:{change:function(t){var o=e.form[r["title"]],i=t.target,a=!!i.checked;if(Array.isArray(o)){var s=l.value,n=e._i(o,s);i.checked?n<0&&e.$set(e.form,r["title"],o.concat([s])):n>-1&&e.$set(e.form,r["title"],o.slice(0,n).concat(o.slice(n+1)))}else e.$set(e.form,r["title"],a)}}}),t("span",{staticClass:"relative"},[e._v(e._s(l.text))])])])})),t("small",{class:{"text-danger":i[0]}},[e._v(e._s(i[0]))])],2)}}],null,!0)})]:e._e()],2)])})),0)],1)])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"overflow-hidden mb-6 rounded-[10px]"},[t("img",{staticClass:"w-full h-56 object-cover",attrs:{src:"https://cdn.cybassets.com/s/files/18098/ckeditor/pictures/content_c07533a8-24bd-4af6-b8ed-ba3912ff2f1c.jpg",alt:"top-of-page"}})])}],l={name:"FormRender",data:()=>({form_data:{},form:{},search:{}}),created(){if(this.$route.query){const e=Number(this.$route.query["formId"]),t=this.$route.query["code"];this.formRenderInfo(e,t)}},methods:{formRenderInfo(e,t){this.axios.renderInfo({form_id:e,share_code:t}).then((e=>{const{code:t,data:r}=e.data;200===t&&(this.form_data=r,document.title=`${r["name"]} - 黑快馬表單`,this.form_data["questions"].forEach((e=>{"checkbox"===e["type"]?this.form[e["title"]]=[]:this.form[e["title"]]=""})))}))},textareaCount(e){const t=this.form_data["questions"].find((t=>t.other["id"]===e)),r=document.querySelector(`#${t["title"]}-${e}`).value,o=r.split(/\r*\n/),i=o.length-(-1!==navigator.userAgent.indexOf("MSIE"));t.other["style"]=30*i+20+"px"}}},a=l,s=r(1656),n=(0,s.A)(a,o,i,!1,null,"1e1dec0e",null),d=n.exports}}]);