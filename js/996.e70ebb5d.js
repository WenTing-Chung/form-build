"use strict";(self["webpackChunkform_build"]=self["webpackChunkform_build"]||[]).push([[996],{6925:function(e,t,r){r.d(t,{A:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("input",{class:["py-2.5 px-5 w-full border border-solid rounded-[5px]",e.isErrors?"border-danger":"border-[#cbcccd]"],attrs:{type:e.inputType,inputmode:e.inputMode},domProps:{value:e.inputValue},on:{input:function(t){return e.$emit("input",t.target.value)}}})},a=[],s={name:"FormInput-component",props:{inputType:{type:String,default:"text"},inputMode:{type:String,default:"text"},inputValue:[String,Number],isErrors:{type:Boolean,default:!1}}},i=s,l=r(1656),n=(0,l.A)(i,o,a,!1,null,"8df599e6",null),c=n.exports},3825:function(e,t,r){r.d(t,{A:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fixed top-0 left-0 z-[999] flex justify-center items-center px-5 w-full h-screen bg-[#52528C]/40"},[t("div",{staticClass:"relative p-12 w-[min(100%,_600px)] rounded-2xl bg-white shadow-[0_1px_18px_0_rgba(87,88,139,0.2)]"},[t("font-awesome-icon",{staticClass:"absolute top-3 right-3 cursor-pointer",attrs:{icon:"fa-solid fa-xmark",size:"2xl"},on:{click:function(t){return t.preventDefault(),e.closeModal.apply(null,arguments)}}}),e._t("default")],2)])},a=[],s={name:"Modal-component",methods:{closeModal(){this.$store.dispatch("isModal",!1),this.$emit("closeModal")}}},i=s,l=r(1656),n=(0,l.A)(i,o,a,!1,null,null,null),c=n.exports},6996:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var o=function(){var e=this,t=e._self._c;return t("section",{staticClass:"flex w-full"},[e.modal?t("Modal",{on:{closeModal:function(t){e.folderEventType=null,e.formEventType=null}}},[e.folderEventType?["addFolder"===e.folderEventType.type?[t("p",{staticClass:"mb-5 text-[#54588c] font-bold text-3xl"},[e._v("新增資料夾")]),t("FormInput",{staticClass:"mb-4 rounded-full",attrs:{placeholder:"請輸入資料夾名稱"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("div",{staticClass:"flex"},[t("button",{staticClass:"mr-5 py-2.5 px-12 border border-solid border-[#cbcccd] hover:border-[#e4e4f1] rounded-full bg-white hover:bg-[#e4e4f1] text-[#777] font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.folderEventType=null,e.name="",e.$store.dispatch("isModal",!1)}}},[e._v(" 取消 ")]),t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createFolder.apply(null,arguments)}}},[e._v(" 確認 ")])])]:"rename"===e.folderEventType.type?[t("p",{staticClass:"mb-5 text-[#54588c] font-bold text-3xl"},[e._v("重新命名資料夾")]),t("FormInput",{staticClass:"mb-4 rounded-full",attrs:{placeholder:"請輸入資料夾名稱"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("div",{staticClass:"flex"},[t("button",{staticClass:"mr-5 py-2.5 px-12 border border-solid border-[#cbcccd] hover:border-[#e4e4f1] rounded-full bg-white hover:bg-[#e4e4f1] text-[#777] font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.folderEventType=null,e.name="",e.$store.dispatch("isModal",!1)}}},[e._v(" 取消 ")]),t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.modifyFolderName({id:e.folderEventType.id,name:e.name})}}},[e._v(" 確認 ")])])]:"del"===e.folderEventType.type?[t("p",{staticClass:"mb-5 text-[#54588c] font-bold text-3xl"},[e._v("刪除資料夾")]),t("p",{staticClass:"mb-5 text-2xl"},[e._v(" 確定要刪除"),t("span",{staticClass:"text-danger text-3xl"},[e._v(" "+e._s(e.folderEventType.name)+" ")]),e._v("資料夾嗎? ")]),t("div",{staticClass:"flex"},[t("button",{staticClass:"mr-5 py-2.5 px-12 border border-solid border-[#cbcccd] hover:border-[#e4e4f1] rounded-full bg-white hover:bg-[#e4e4f1] text-[#777] font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.folderEventType=null,e.$store.dispatch("isModal",!1)}}},[e._v(" 取消 ")]),t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.deleteFolder(e.folderEventType.id)}}},[e._v(" 確認 ")])])]:e._e()]:e._e(),e.formEventType?["move"===e.formEventType.type?[t("p",{staticClass:"mb-5 text-[#54588c] font-bold text-3xl"},[e._v("移動表單")]),t("ul",{staticClass:"mb-5"},e._l(e.folderList,(function(r){return t("li",{key:r.id,staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.moveFolderInfo["folder_id"],expression:"moveFolderInfo['folder_id']",modifiers:{number:!0}}],staticClass:"hidden",attrs:{id:`fold-${r["name"]}`,type:"radio",name:"foldID"},domProps:{value:r.id,checked:e._q(e.moveFolderInfo["folder_id"],e._n(r.id))},on:{change:function(t){e.$set(e.moveFolderInfo,"folder_id",e._n(r.id))}}}),t("label",{class:["py-3 pl-10 w-full text-left text-2xl before:rounded-full before:top-1/2 before:left-0 before:-translate-y-1/2 before:w-6 before:h-6 before:border before:border-solid before:border-[#d8d7e3] radio-control"],attrs:{for:`fold-${r["name"]}`}},[e._v(" "+e._s(r["name"])+" ")])])})),0),t("div",{staticClass:"flex"},[t("button",{staticClass:"mr-5 py-2.5 px-12 border border-solid border-[#cbcccd] hover:border-[#e4e4f1] rounded-full bg-white hover:bg-[#e4e4f1] text-[#777] font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.formEventType=null,e.$store.dispatch("isModal",!1)}}},[e._v(" 取消 ")]),t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.moveFormRoFolder.apply(null,arguments)}}},[e._v(" 確認 ")])])]:"del"===e.formEventType.type?[t("p",{staticClass:"mb-5 text-[#54588c] font-bold text-3xl"},[e._v("刪除表單")]),t("p",{staticClass:"mb-5 text-2xl"},[e._v(" 確定要刪除"),t("span",{staticClass:"text-danger text-3xl"},[e._v(" "+e._s(e.formEventType.name)+" ")]),e._v("表單嗎? ")]),t("div",{staticClass:"flex"},[t("button",{staticClass:"mr-5 py-2.5 px-12 border border-solid border-[#cbcccd] hover:border-[#e4e4f1] rounded-full bg-white hover:bg-[#e4e4f1] text-[#777] font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.formEventType=null,e.$store.dispatch("isModal",!1)}}},[e._v(" 取消 ")]),t("button",{staticClass:"py-2.5 px-12 border border-solid border-[#52528c] rounded-full bg-[#52528c] hover:bg-[#424281] text-white font-bold text-2xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.deleteForm(e.formEventType.id)}}},[e._v(" 確認 ")])])]:e._e()]:e._e()],2):e._e(),t("Aside",{ref:"folderList",attrs:{folderList:e.folderList,"active-operate-id":e.folderOperate.info["id"]},on:{folderInfo:e.folderOperateInfo,folderSelect:e.folderSelect,folderEvent:e.folderEvent},scopedSlots:e._u([{key:"addFormButton",fn:function(){return[t("router-link",{staticClass:"p-8 w-full bg-[#ecf371] text-left text-lg",attrs:{to:{name:"FormCreate"},id:"add-btn"}},[t("font-awesome-icon",{staticClass:"mr-5",attrs:{icon:"fa-solid fa-plus",size:"2xl"}}),e._v(" 新增表單 ")],1)]},proxy:!0},{key:"operate",fn:function(){return[t("FolderOperate",{directives:[{name:"show",rawName:"v-show",value:e.folderOperate.show,expression:"folderOperate.show"}],attrs:{location:e.folderOperate.info},on:{folderOperateEvent:e.folderEvent}})]},proxy:!0}])}),t("div",{staticClass:"flex-1 bg-[#eee] list-content"},[t("div",{staticClass:"flex items-center justify-between pt-10 px-6 pb-3 border-b border-solid border-[#bcbbcb] search-bar"},[t("div",{staticClass:"flex"},["list"===e.show_type?[t("button",{staticClass:"mr-3 py-1.5 px-2 rounded-[10px] bg-[#fafaf9] hover:bg-[#ff6060] text-[#57588B] hover:text-white",attrs:{type:"button"}},[t("font-awesome-icon",{attrs:{icon:"fa-regular fa-trash-can",size:"2xl"}})],1)]:e._e(),t("select",{directives:[{name:"model",rawName:"v-model",value:e.searchDateType,expression:"searchDateType"}],staticClass:"mr-3 py-2 pl-2.5 pr-7 rounded-[10px] bg-[#fafaf9] text-[#888] text-lg",attrs:{name:"dateType",id:"dateType"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchDateType=t.target.multiple?r:r[0]},e.resetSearchDate]}},e._l(e.dateType,(function(r){return t("option",{key:r.value,domProps:{value:r.value}},[e._v(e._s(r.text))])})),0),"creation_date"===e.searchDateType?[t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"創建日期起始"},domProps:{value:e.search.created_from}})]},proxy:!0}],null,!1,3603538837),model:{value:e.search.created_from,callback:function(t){e.$set(e.search,"created_from",t)},expression:"search.created_from"}}),t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"創建日期結束"},domProps:{value:e.search.created_to}})]},proxy:!0}],null,!1,3183207595),model:{value:e.search.created_to,callback:function(t){e.$set(e.search,"created_to",t)},expression:"search.created_to"}})]:"recently_edited"===e.searchDateType?[t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"最近編輯起始"},domProps:{value:e.search.edited_from}})]},proxy:!0}]),model:{value:e.search.edited_from,callback:function(t){e.$set(e.search,"edited_from",t)},expression:"search.edited_from"}}),t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"最近編輯結束"},domProps:{value:e.search.edited_to}})]},proxy:!0}]),model:{value:e.search.edited_to,callback:function(t){e.$set(e.search,"edited_to",t)},expression:"search.edited_to"}})]:"expiration_date"===e.searchDateType?[t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"失效日期起始"},domProps:{value:e.search.expired_from}})]},proxy:!0}]),model:{value:e.search.expired_from,callback:function(t){e.$set(e.search,"expired_from",t)},expression:"search.expired_from"}}),t("date-picker",{staticClass:"mr-3",attrs:{"value-type":"format",type:"date"},scopedSlots:e._u([{key:"input",fn:function(){return[t("input",{staticClass:"py-2 pl-2.5 w-full rounded-[10px] bg-[#fafaf9] placeholder:text-[#888] text-lg",attrs:{placeholder:"失效日期結束"},domProps:{value:e.search.expired_to}})]},proxy:!0}]),model:{value:e.search.expired_to,callback:function(t){e.$set(e.search,"expired_to",t)},expression:"search.expired_to"}})]:e._e(),t("button",{staticClass:"px-2.5 rounded-[10px] bg-[#54588c] hover:bg-[#3a3b72] text-white font-bold text-xl",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.get_formList.apply(null,arguments)}}},[e._v(" 查詢 ")])],2)]),t("div",{staticClass:"pt-3 px-6 pb-14 overflow-y-auto form-list scroll-style"},[t("div",{class:["mb-6","card"===e.show_type?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols- xl:grid-cols-4 2xl:grid-cols-5 gap-4 auto-rows-auto":""]},e._l(e.formList,(function(r){return t("FormCard",{key:r.id,attrs:{"list-type":e.show_type,"card-info":r,"del-list":e.delList,"active-form-operate":e.formOperate.info["id"]},on:{child_actionBar:e.actionBar,child_collect:e.is_collect,child_del:e.is_delList}})})),1),t("Pagination",{attrs:{page:e.page,"page-count":e.total_page,"item-count":e.total_count},on:{changePage:e.changePage}}),t("MoreOperate",{directives:[{name:"show",rawName:"v-show",value:e.formOperate.show,expression:"formOperate.show"}],attrs:{location:e.formOperate.info},on:{formOperateEvent:e.formEvent}})],1)])],1)},a=[],s=(r(4114),r(3518)),i=function(){var e=this,t=e._self._c;return t("aside",{staticClass:"w-[300px] border-r border-solid border-[#d8d7e3] bg-[#d8d7e3]"},[e._t("addFormButton"),t("div",{staticClass:"overflow-y-auto folder-list scroll-style"},[t("div",{staticClass:"py-5 px-2.5 border-b border-solid border-[#cac9da]"},[t("div",{class:["flex py-2 pl-6 pr-2 w-full rounded-md text-left text-lg cursor-pointer hover:bg-[#acaccc]/50 folder-kind",{active:null===e.is_click.value}],on:{click:function(t){return t.preventDefault(),e.folderSelect("all",null)}}},[t("font-awesome-icon",{staticClass:"mr-7 left-6 text-[#797979] icon",attrs:{icon:"fa-solid fa-file-lines",size:"xl"}}),e._v(" 全部 ")],1)]),t("ul",{staticClass:"py-5 px-2.5 border-b border-solid border-[#cac9da]"},[t("li",{class:["flex py-2 pl-6 pr-2 w-full rounded-md text-left text-lg cursor-pointer hover:bg-[#acaccc]/50 folder-kind",{"mb-3":e.folderList.length}],attrs:{title:"新增資料夾"},on:{click:function(t){t.preventDefault(),e.folderEvent({id:null,type:"addFolder"}),e.$store.dispatch("isModal",!0)}}},[t("font-awesome-icon",{staticClass:"mr-5 left-6 text-[#797979] icon",attrs:{icon:"fa-solid fa-folder-plus",size:"xl"}}),e._v(" 新增資料夾 ")],1),e._l(e.folderList,(function(r,o){return t("li",{key:r.id,class:["relative flex py-2 pl-6 pr-2 w-full rounded-md text-left text-lg cursor-pointer hover:bg-[#acaccc]/50 folder-kind",{"mb-3":o!==e.folderList.length-1,active:r.id===e.is_click.value}],attrs:{title:r.name},on:{click:function(t){return t.preventDefault(),e.folderSelect("folder",r.id)}}},[t("font-awesome-icon",{staticClass:"mr-5 text-[#797979] icon",attrs:{icon:"fa-solid fa-folder",size:"xl"}}),t("p",{staticClass:"overflow-hidden flex-1 text-ellipsis whitespace-nowrap"},[e._v(e._s(r.name))]),t("button",{class:["top-1/2 right-1 w-7 h-7 rounded-full hover:bg-[#acaccc]",{"bg-[#acaccc]":r.id===e.activeOperateId}],attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.folderOperateCheck(r,t)}}},[t("font-awesome-icon",{staticClass:"text-[#797979]",attrs:{icon:"fa-solid fa-ellipsis-vertical"}})],1)],1)}))],2),t("div",{staticClass:"py-5 px-2.5"},[t("div",{class:["flex py-2 pl-6 pr-2 w-full rounded-md text-left text-lg cursor-pointer hover:bg-[#acaccc]/50 folder-kind",{active:"star"===e.is_click.value}],on:{click:function(t){return t.preventDefault(),e.folderSelect("star","star")}}},[t("font-awesome-icon",{staticClass:"mr-5 left-6 text-[#797979] icon",attrs:{icon:"fa-solid fa-star",size:"xl"}}),e._v(" 星號 ")],1)])]),e._t("operate")],2)},l=[],n={name:"TheAside",props:{folderList:{type:Array,required:!0},activeOperateId:{type:Number}},data:()=>({is_click:{kind:"all",value:null}}),mounted(){this.is_listHeight()},methods:{is_listHeight(){this.$nextTick((()=>{const e=document.querySelector("aside"),t=document.querySelector("#add-btn").clientHeight;e.style.setProperty("--list",`${t}px`)}))},folderSelect(e,t){this.is_click={kind:e,value:t},this.$emit("folderSelect",{kind:e,value:t})},folderEvent(e){this.$emit("folderEvent",e)},folderOperateCheck(e,t){this.$emit("folderInfo",{id:e.id,name:e.name,y:t.clientY})}}},c=n,d=r(1656),f=(0,d.A)(c,i,l,!1,null,"beaa0aee",null),u=f.exports,p=r(3825),h=function(){var e=this,t=e._self._c;return t("div",["card"===e.listType?[t("div",{staticClass:"relative cursor-pointer",attrs:{title:e.cardInfo["name"]},on:{click:function(t){return t.preventDefault(),e.saveFormInfo.apply(null,arguments)}}},[t("div",{staticClass:"overflow-hidden rounded-2xl bg-white shadow-[4px_10px_10px_0_rgba(200,200,213,0.5)]"},[t("div",{staticClass:"relative"},[e.cardInfo.form_image?[t("img",{staticClass:"w-full h-[200px] object-cover",attrs:{src:e.cardInfo.form_image["path"],alt:"form-img"}})]:[e._m(0)],t("button",{staticClass:"absolute left-3 bottom-3",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.child_collect.apply(null,arguments)}}},[t("font-awesome-icon",{class:e.cardInfo.starred?"text-[#ecf371]":"text-[#eee]/70",attrs:{icon:"fa-solid fa-star",size:"xl"}})],1)],2),t("div",{staticClass:"flex px-2.5 py-3"},[t("div",{staticClass:"flex-1"},[t("div",{staticClass:"flex justify-between"},[t("p",{staticClass:"flex-1 mr-1 line-clamp-3 break-words text-2xl"},[e._v(e._s(e.cardInfo["name"]))]),t("button",{class:["flex justify-center items-center w-7 h-7 rounded-full cursor-pointer hover:bg-[#c8c8d5]",{"bg-[#c8c8d5]":e.cardInfo.id===e.activeFormOperate}],attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.child_actionBar(t)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-ellipsis-vertical"}})],1)]),t("div",{staticClass:"text-[#888] text-sm"},[t("span",[e._v(e._s(e.dateFormat_compare(e.cardInfo.start_time)))]),e.cardInfo.start_time&&e.cardInfo.end_time?t("span",[e._v(" 至 ")]):e._e(),t("span",[e._v(e._s(e.dateFormat_compare(e.cardInfo.end_time)))]),e.cardInfo.start_time&&e.cardInfo.end_time&&e.isExpired?[t("br"),e._v(" 已過期 ")]:e._e()],2)])])])])]:[t("div",{staticClass:"relative cursor-pointer",attrs:{title:e.cardInfo["name"]},on:{click:function(t){return e.$router.push({name:"FormCreate",params:{id:e.cardInfo.id}})}}},[t("div",{staticClass:"relative overflow-hidden pl-2 rounded-2xl mb-2.5 bg-white shadow-[0px_1px_4px_0px_rgba(78,78,85,0.5)] before:content-[''] before:absolute before:block before:top-0 before:left-0 before:w-2 before:h-full before:bg-[#57588b]"},[t("div",{staticClass:"flex justify-between py-11 px-10"},[t("div",{staticClass:"flex items-center"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.is_checked,expression:"is_checked"}],staticClass:"hidden",attrs:{id:"is-delete",type:"checkbox"},domProps:{checked:Array.isArray(e.is_checked)?e._i(e.is_checked,null)>-1:e.is_checked},on:{change:function(t){var r=e.is_checked,o=t.target,a=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&(e.is_checked=r.concat([s])):i>-1&&(e.is_checked=r.slice(0,i).concat(r.slice(i+1)))}else e.is_checked=a}}}),t("label",{staticClass:"checkbox-control",attrs:{for:"is-delete"},on:{click:function(t){return t.preventDefault(),e.child_del.apply(null,arguments)}}})]),t("button",{staticClass:"mr-8 ml-16",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.child_collect.apply(null,arguments)}}},[t("font-awesome-icon",{class:e.cardInfo.is_star?"text-[#ecf371]":"text-[#dddee8]",attrs:{icon:"fa-solid fa-star",size:"xl"}})],1),t("div",[t("p",{staticClass:"mb-1 text-2xl"},[e._v(e._s(e.cardInfo.text))]),t("p",{staticClass:"text-sm text-[#888]"},[t("span",{staticClass:"mr-3.5 py-1 px-2.5 rounded-2xl bg-[#dddee8] text-[#555]"},[e._v("已過期")]),e._v(" "+e._s("2024-05-20")+" 至 "+e._s("2024-07-31")+" ")])])]),t("div",{staticClass:"flex items-center text-[#57588b]"},[t("div",{class:["flex items-center justify-center w-10 h-10 rounded-full"]},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-pen-to-square",size:"2xl"}})],1),t("div",{class:["flex items-center justify-center mx-16 w-10 h-10 rounded-full"]},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-chart-line",size:"2xl"}})],1),t("button",{class:["flex items-center justify-center w-10 h-10 rounded-full",{"bg-[#c8c8d5]/20":e.cardInfo.config}],on:{click:function(t){return t.stopPropagation(),e.child_actionBar(t)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-ellipsis-vertical",size:"2xl"}})],1)])])])])]],2)},m=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex items-center justify-center w-full h-[200px]"},[t("p",[e._v("無設置圖片")])])}],v={name:"FormCard-component",props:{listType:{type:String},cardInfo:{type:Object,required:!0},delList:{type:Array,required:!0,default:()=>[]},activeFormOperate:{type:Number}},computed:{is_checked(){return this.delList.includes(this.cardInfo.id)},isExpired(){const e=new Date(this.cardInfo.end_time);return e.getTime()<Date.now()}},methods:{child_actionBar(e){this.$emit("child_actionBar",{id:this.cardInfo.id,name:this.cardInfo.name,x:e.clientX,y:e.clientY})},child_collect(){this.$emit("child_collect",this.cardInfo.id)},child_del(){this.$emit("child_del",this.cardInfo.id)},dateFormat_compare(e){return e?e.split(" ")[0]:null},saveFormInfo(){this.$store.dispatch("modify_config_id",{formId:this.cardInfo.id}),localStorage.setItem("FORM_Config",JSON.stringify({formId:this.cardInfo.id})),this.$router.push({name:"FormCreate",query:{formId:this.cardInfo.id}})}}},x=v,_=(0,d.A)(x,h,m,!1,null,"34afa62e",null),b=_.exports,g=r(6925),y=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"moreOperate"},[t("li",{on:{click:function(t){return t.preventDefault(),e.formOperateEvent("blank")}}},[e._v("新分頁開啟")]),t("li",{on:{click:function(t){return t.preventDefault(),e.formOperateEvent("log")}}},[e._v("紀錄")]),t("li",{on:{click:function(t){return t.preventDefault(),e.formOperateEvent("move")}}},[e._v("移動到資料夾")]),t("li",{on:{click:function(t){return t.preventDefault(),e.formOperateEvent("del")}}},[e._v("刪除")])])},C=[],w={name:"MoreOperate",props:{location:{type:Object},listType:{type:String,default:"card"}},data:()=>({screenW:null}),watch:{location(){this.moreConfig()}},mounted(){this.resizeFunction(),window.addEventListener("resize",this.resizeFunction)},methods:{resizeFunction(){this.screenW=Math.floor(.8*document.documentElement.scrollWidth),this.moreConfig()},moreConfig(){const{x:e,y:t}=this.location,r=document.querySelector(".moreOperate");"card"===this.listType?(r.style.left=`${e}px`,r.style.top=t>600?t-210+"px":`${t+25}px`,e>this.screenW&&(r.style.left=e-180+"px")):(r.style.right="40px",r.style.top="calc(100% - 44px)")},formOperateEvent(e){["log","move","del"].includes(e)&&this.$store.dispatch("isModal",!0),this.$emit("formOperateEvent",{id:this.location.id,name:this.location.name,type:e})}},beforeDestroy(){window.removeEventListener("resize",this.resizeFunction)}},k=w,O=(0,d.A)(k,y,C,!1,null,"6cc359a5",null),E=O.exports,F=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"folderOperateList"},[t("li",{on:{click:function(t){return t.preventDefault(),e.folderOperateEvent("create")}}},[e._v("新增表單")]),t("li",{on:{click:function(t){return t.preventDefault(),e.folderOperateEvent("rename")}}},[e._v("重新命名")]),t("li",{on:{click:function(t){return t.preventDefault(),e.folderOperateEvent("del")}}},[e._v("刪除")])])},I=[],P={name:"FolderOperate",props:{location:{type:Object}},data:()=>({screenH:null}),mounted(){this.resizeFunction(),window.addEventListener("resize",this.resizeFunction())},watch:{location(e){e&&this.resizeFunction()}},methods:{folderOperateEvent(e){const{id:t,name:r}=this.location;["rename","del"].includes(e)&&this.$store.dispatch("isModal",!0),this.$store.dispatch("modify_config_id",{folderId:t}),localStorage.setItem("FORM_Config",JSON.stringify({folderId:t})),this.$emit("folderOperateEvent",{id:t,name:r,type:e})},resizeFunction(){this.screenH=Math.floor(.8*document.documentElement.clientHeight);const e=document.querySelector(".folderOperateList");if(Object.keys(this.location).length){const{y:t}=this.location;this.location.y>700?e.style.top=t-140+"px":e.style.top=`${t}px`}}},beforeDestroy(){window.removeEventListener("resize",this.resizeFunction)}},L=P,$=(0,d.A)(L,F,I,!1,null,"61196dc5",null),T=$.exports,S=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"mb-3.5 flex items-center justify-center"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.pageCount>1&&1!==e.page,expression:"pageCount > 1 && page !== 1"}],staticClass:"flex items-center justify-center md:mr-2.5 switch-item",on:{click:function(t){return e.setPage(!1)}}},[e._v("<")]),t("Pager",{class:{"sm:mr-2.5":e.pageCount>1},attrs:{page:e.page,"total-page":e.pageCount},on:{changePage:e.changePage}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.pageCount>1&&e.page!==e.pageCount,expression:"pageCount > 1 && page !== pageCount"}],staticClass:"flex items-center justify-center switch-item",on:{click:function(t){return e.setPage(!0)}}},[e._v(">")])],1),t("p",{staticClass:"text-center font-bold"},[e._v("第 "+e._s(e.page)+" / "+e._s(e.pageCount)+" 頁 共"+e._s(e.itemCount)+"筆")])])},D=[],z=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"flex justify-center pager"},[t("li",{class:["pager-item",{"text-white pager-bg":1===e.current,"sm:mr-2":e.totalPage>1}],on:{click:function(t){return e.changeCurrentPage(1)}}},[t("div",{staticClass:"flex justify-center items-center h-full"},[e._v("1")])]),e.totalPage>e.centerSize+2&&e.current-e.centerSize/2+1>1?t("li",{staticClass:"sm:mr-2 pager-item",on:{click:function(t){return e.changeCurrentPage(e.current-e.jumpSize)}}},[t("div",{staticClass:"flex justify-center items-center h-full"},[e._v("...")])]):e._e(),e._l(e.centerPages,(function(r,o){return t("li",{key:o,class:["sm:mr-2 pager-item",{"text-white pager-bg":e.current===r}],on:{click:function(t){return e.changeCurrentPage(r)}}},[t("div",{staticClass:"h-full flex justify-center items-center"},[e._v(" "+e._s(r)+" ")])])})),e.totalPage>e.centerSize+2&&e.current+e.centerSize/2+1<e.totalPage?t("li",{staticClass:"sm:mr-2 pager-item",on:{click:function(t){return e.changeCurrentPage(e.current+e.jumpSize)}}},[t("div",{staticClass:"h-full flex justify-center items-center"},[e._v("...")])]):e._e(),1!==e.totalPage?t("li",{class:["pager-item",{"text-white pager-bg":e.current===e.totalPage}],on:{click:function(t){return e.changeCurrentPage(e.totalPage)}}},[t("div",{staticClass:"h-full flex justify-center items-center"},[e._v(" "+e._s(e.totalPage)+" ")])]):e._e()],2)},M=[],j={name:"Component-Pager",props:{page:{type:Number,default:1,required:!0},totalPage:{type:Number,default:1,required:!0},centerSize:{type:Number,default(){return 5}},jumpSize:{type:Number,default(){return 5}}},data:()=>({current:1}),watch:{page(e){this.current=e}},computed:{centerPages(){let e=this.current;if(this.current>this.totalPage-3&&(e=this.totalPage-3),this.current<4&&(e=4),this.totalPage<=this.centerSize+2){const e=[];for(let t=2;t<this.totalPage;t++)e.push(t);return e}{const t=[];for(let r=e-2;r<=e+2;r++)t.push(r);return t}}},methods:{changeCurrentPage(e){e<1?this.current=1:e>this.totalPage?this.current=this.totalPage:this.current=e,this.$emit("changePage",this.current)}}},A=j,N=(0,d.A)(A,z,M,!1,null,"621ba01b",null),q=N.exports,B={name:"Component-Pagination",components:{Pager:q},props:{page:{type:Number,default:1},pageCount:{type:Number,default:1},itemCount:{type:Number,default:1}},methods:{setPage(e){let t=this.page;t<1?t=1:t>this.pageCount?t=this.pageCount:e&&t<this.pageCount?t++:!e&&t>1&&t--,this.$emit("changePage",t)},changePage(e){this.nowPage=e,this.$emit("changePage",e),window.scrollTo({top:0,left:0,behavior:"smooth"})}}},H=B,R=(0,d.A)(H,S,D,!1,null,"0177896b",null),W=R.exports,J={name:"GeneralList",components:{Aside:u,Modal:p.A,FormCard:b,FormInput:g.A,MoreOperate:E,FolderOperate:T,Pagination:W},data:()=>({name:"",formList:[],folderList:[],folderEventType:null,folderOperate:{show:!1,info:{}},formEventType:null,formOperate:{show:!1,info:{}},search:{folder_id:null,created_from:null,created_to:null,edited_from:null,edited_to:null,expired_from:null,expired_to:null,starred:0},show_type:"card",searchDateType:"creation_date",dateType:[{text:"創建日期",value:"creation_date"},{text:"最近編輯",value:"recently_edited"},{text:"失效日期",value:"expiration_date"}],moveFolderInfo:{id:null,folder_id:null},page:1,total_page:1,total_count:0,delList:[]}),metaInfo:{title:"表單清單"},mounted(){this.is_containerHeight(),document.addEventListener("click",this.operateList)},computed:{...(0,s.aH)({modal:e=>e.isModal})},methods:{operateList(e){const t=document.querySelector(".folderOperateList"),r=document.querySelector(".moreOperate");this.folderOperate.show&&!t.contains(e.target)&&(this.folderOperate={show:!1,info:{}}),this.formOperate.show&&!r.contains(e.target)&&(this.formOperate={show:!1,info:{}})},is_containerHeight(){this.$nextTick((()=>{const e=document.querySelector(".list-content"),t=document.querySelector(".search-bar").clientHeight;e.style.setProperty("--search",`${t}px`),this.get_folderList(),this.get_formList()}))},get_folderList(){this.axios.folderList().then((e=>{const{code:t,data:r}=e.data;200===t&&(this.folderList=r.list)}))},createFolder(){this.axios.createdFolder({name:this.name}).then((e=>{200===e.data.code&&(this.get_folderList(),this.folderEventType=null,this.name="",this.$store.dispatch("isModal",!1))}))},deleteFolder(e){this.axios.deleteFolder({id:e}).then((e=>{200===e.data.code&&(this.get_folderList(),this.folderEventType=null,this.folderOperate_show=!1,this.$store.dispatch("isModal",!1))}))},folderInfo(e){this.axios.folderName({id:e}).then((e=>{const{code:t,data:r}=e.data;200===t&&(this.name=r.name)}))},modifyFolderName(e){this.axios.modifyFolderName(e).then((e=>{200===e.data.code&&(this.get_folderList(),this.folderEventType=null,this.folderOperate_show=!1,this.$store.dispatch("isModal",!1))}))},folderOperateInfo(e){e["id"]!==this.folderOperate.info["id"]&&void 0!==this.folderOperate.info["id"]?this.folderOperate["info"]=e:e["id"]===this.folderOperate.info["id"]&&this.folderOperate["show"]?this.folderOperate={show:!1,info:{}}:(this.folderOperate.show=!0,this.folderOperate.info=e)},folderEvent(e){this.folderEventType=e,"create"===e.type?this.$router.push({name:"FormCreate",query:{folderId:e.id}}):"rename"===e.type&&this.folderInfo(e.id)},folderSelect(e){const{kind:t,value:r}=e;switch(t){case"star":this.search.folder_id=null,this.search.starred=1;break;default:this.search.folder_id=r,this.search.starred=0;break}this.get_formList()},get_formList(){this.axios.formList(this.search).then((e=>{const{code:t,data:r}=e.data;200===t&&(this.formList=r.list,this.total_page=r.total_page,this.total_count=r.total_count)}))},deleteForm(e){this.axios.deleteForm({id:e}).then((e=>{200===e.data.code&&(this.$store.dispatch("isModal",!1),this.get_formList())}))},moveFormRoFolder(){this.axios.moveForm(this.moveFolderInfo).then((e=>{200===e.data.code&&(this.$store.dispatch("isModal",!1),this.get_formList())}))},resetSearchDate(){this.search.created_from=null,this.search.created_to=null,this.search.edited_from=null,this.search.edited_to=null,this.search.expired_from=null,this.search.expired_to=null},changePage(e){const t=document.querySelector(".form-list");this.page=e,this.get_formList(),t.scrollTo({top:0,left:0,behavior:"smooth"})},actionBar(e){e["id"]!==this.formOperate.info["id"]&&void 0!==this.formOperate.info["id"]?this.formOperate["info"]=e:e["id"]===this.formOperate.info["id"]&&this.formOperate["show"]?this.formOperate={show:!1,info:{}}:(this.formOperate.show=!0,this.formOperate.info=e)},formEvent(e){"blank"===e.type&&window.open(`${location.origin}/form/create?formId=${e.id}`).location,"move"===e.type&&(this.moveFolderInfo.id=e.id),this.formEventType=e},is_collect(e){this.axios.formStar({id:e}).then((e=>{200===e.data.code&&this.get_formList()}))},is_delList(e){if(this.delList.includes(e)){let t=this.delList.findIndex((t=>t===e));this.delList.splice(t,1)}else this.delList.push(e)},type_reset(e){this.show_type=e}},beforeDestroy(){document.removeEventListener("click",this.operateList)}},V=J,Y=(0,d.A)(V,o,a,!1,null,"edf2678a",null),G=Y.exports}}]);